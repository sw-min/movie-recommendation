<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    .dotchart {
      margin-left: 50px;
      margin-right: 50px;
    }
    .svgclass {
      border-style: solid;
      border-color: black;
      padding: 5px;
    }
    .content {
      display: flex;
      flex-direction: row;
    }
    .filter {
      padding-right: 50px;

    }
  </style>
  <title>INFO 3300-Project 2</title>
</head>

<body>
  <h1>INFO 3300 - Project 2</h1>
  <h3>Members: Josette, Laura, Peter, Steve Min</h3>

  <div class="content">
  <div class="filter">
    <svg class = "svgclass" id="svg1" height="300" width="300"></svg> 
    <h2> Filter Questions Go Here</h2>
    <div class="genrebuttons" id="genrebuttons"></div>
    <div class="erabuttons" id="button"></div>


    <p id="q1">What's your preferred genre?
      <script>

      const genrebuttons = async function () {
        console.log('running genrebuttons')
      const imdb_small = await d3.csv("imdb_100.csv");
      const data = imdb_small

      const genres = ["Drama", "Crime", "Action", "Biography", "History", "Adventure", "Sci-Fi", "Fantasy", "Thriller", "Comedy", "War", "Romance", "Horror", "Family", "Western", "Film-Noir", "Music", "Musical", "Mystery", "Animation"]
      
        genres.forEach(function(i) {
          console.log('in genre for each loop')
          d3.select("div#genrebuttons")
            .append("button")
            .text(i)
            .on("click", function() {
                filterdata = data.filter(function(d){
                  return d['genre'] === i;
                })
                // update(filterdata);
                console.log(filterdata);
                })
                //count rows in filter data
                //move that many dots to the bottom half of the svg
            })
        

        //repeat for next filter and feed in already-filtered filterdata array to layer the filters
        //count new number of dots each time and only have that amount display on the bottom
      
      // const eras = ["1920s", "1930s", "1940s", "1950s", "1960s", "1970s", "1980s", "1990s", "2000s", "2010s", "2020s"]
      // eras.forEach(function(i){
      //   console.log()
      //   d3.select("div#erabuttons")
      //       .append("button")
      //       .text(i)
      //       .on("click", function() {
      //           d3.selectAll("#circle").each(function(i){
      //             console.log(data)
      //           filterdata = data.filter(function(d, i){
      //             return era === i;
      //           })
      //           update(filterdata);
      //           console.log(filterdata);
      //           console.log('hello');
      //           })
      //           //count rows in filter data
      //           //move that many dots to the bottom half of the svg
      //       })
      //   })
      


      
  
      }
      genrebuttons();

      
      </script>
    </p>

    <script> 
      
      //HARDCODED DOT CHART CODE BELOW:

      const svg = d3.select("#svg1");
      const width = svg.attr("width");
      const height = svg.attr("height");
      const margin = {top: 10, right: 10, bottom: 10, left: 10};
      const chartWidth = width - margin.left - margin.right;
      const chartHeight = height - margin.top - margin.bottom;

      const projectData = async function () {
       console.log('in async')

      //Movie names on the top 100 are 'original_title', top 1000 are 'Series_Title', and RT are 'Name'
      const imdb_small = await d3.csv("imdb_100.csv");
      const imdb_large = await d3.csv("imdb_1000.csv");
      const rotten_tomatoes = await d3.csv("rotten_tomatoes.csv");

      console.log(imdb_small);
      // console.log(genre);

    // const buttons = imdb_small.keys(genre).sort();
    // buttons.forEach( d => {
    //   // For each genre, add a new button to the genre bar
    //   d3.select("div#button-bar")
    //     .append("button")
    //     .text( d )
    //     .on("click", function() {
    //       // When it's clicked, call filtergenres to update the chart
    //       filtergenre( d );
    //     })
    // });
  




  const imdb_twenty = imdb_small.slice(0,20);
  // console.log(imdb_twenty);
  const imdb_forty = imdb_small.slice(21,41);
  const imdb_sixty = imdb_small.slice(41,61);
  const imdb_eighty = imdb_small.slice(61,81);
  const imdb_hundred = imdb_small.slice(81,99);
  
  let inc_x_t = chartWidth;
  imdb_twenty.forEach( d => {
        d.x = inc_x_t;
        d.y = 10;
        inc_x_t= inc_x_t - 8;
      });

  let inc_x_f = chartWidth;
  imdb_forty.forEach( d => {
        d.x = inc_x_f;
        d.y = 20;
        inc_x_f = inc_x_f - 8;
      });
      
  let inc_x_s = chartWidth;
  imdb_sixty.forEach( d => {
        d.x = inc_x_s;
        d.y = 30;
        inc_x_s = inc_x_s - 8;
      }); 
  
  let inc_x_e = chartWidth;
  imdb_eighty.forEach( d => {
        d.x = inc_x_e;
        d.y = 40;
        inc_x_e = inc_x_e - 8;
      }); 
  
  let inc_x_h = chartWidth;
  imdb_hundred.forEach( d => {
        d.x = inc_x_h;
        d.y = 50;
        inc_x_h = inc_x_h - 8;
      }); 

  
  let circles = svg.selectAll("circle").data(imdb_small)
                            .join("circle")
                            .attr("r", 2)
                            .attr("cx", d => d.x) //want to evenly distribute circles on x axis
                            .attr("cy", d => d.y); //and evenly distribute in rows on y axis
                            // .attr("fill", //colors based on filter and y position)



   //filtering implementation
   //have variables for each genre
   //have a calculator that calculates the percentage of movies that fit your preferences
   //apply percentage to visualization
   
   

    }

projectData();

   

  
    </script>
    <div class="btn-group">
      <!-- <button type="button" class="filter_btn" onclick="filtergenre('Action')">Action</button>
      <button type="button" class="filter_btn" onclick="genre= 'Adventure'">Adventure</button>
      <button type="button" class="filter_btn" onclick="genre= 'Animation'">Animation</button>
      <button type="button" class="filter_btn" onclick="genre= 'Biography'">Biography</button>
      <button type="button" class="filter_btn" onclick="genre= 'Comedy'">Comedy</button>
      <button type="button" class="filter_btn" onclick="genre= 'Crime'">Crime</button>
      <button type="button" class="filter_btn" onclick="genre= 'Drama'">Drama</button>
      <button type="button" class="filter_btn" onclick="genre= 'Family'">Family</button>
      <button type="button" class="filter_btn" onclick="genre= 'Fantasy'">Fantasy</button>
      <button type="button" class="filter_btn" onclick="genre= 'Film-Noir'">Film-Noir</button>
      <button type="button" class="filter_btn" onclick="genre='History'">History</button>
      <button type="button" class="filter_btn" onclick="genre='Horror'">Horror</button>
      <button type="button" class="filter_btn" onclick="genre='Musical'">Musical</button>
      <button type="button" class="filter_btn" onclick="genre='Mystery'">Mystery</button>
      <button type="button" class="filter_btn" onclick="genre='Romance'">Romance</button>
      <button type="button" class="filter_btn" onclick="genre='Sci-Fi'">Sci-Fi</button>
      <button type="button" class="filter_btn" onclick="genre='Thriller'">Thriller</button>
      <button type="button" class="filter_btn" onclick="genre='War'">War</button>
      <button type="button" class="filter_btn" onclick="genre='Western'">Western</button> -->
    </div>
    <h3>What's your preferred era?</h3>
      <!-- <button type="button" class="filter_btn" onclick="decade='1920'">1920s</button>
      <button type="button" class="filter_btn" onclick="decade='1930'">1930s</button>
      <button type="button" class="filter_btn" onclick="decade='1940'">1940s</button>
      <button type="button" class="filter_btn" onclick="decade='1950'">1950s</button>
      <button type="button" class="filter_btn" onclick="decade='1960'">1960s</button>
      <button type="button" class="filter_btn" onclick="decade='1970'">1970s</button>
      <button type="button" class="filter_btn" onclick="decade='1980'">1980s</button>
      <button type="button" class="filter_btn" onclick="decade='1990'">1990s</button>
      <button type="button" class="filter_btn" onclick="decade='2000'">2000s</button>
      <button type="button" class="filter_btn" onclick="decade='2010'">2010s</button>
      <button type="button" class="filter_btn" onclick="decade='2020'">2020s</button> -->
    <h3>What's your preferred length?</h3>
      <!-- <button type="button" class="filter_btn" onclick="">60-90 min</button>
      <button type="button" class="filter_btn" onclick="">90-120 min</button>
      <button type="button" class="filter_btn" onclick="">120-150 min</button>
      <button type="button" class="filter_btn" onclick="">150-180 min</button>
      <button type="button" class="filter_btn" onclick="">180-210 min</button>
      <button type="button" class="filter_btn" onclick="">210-240 min</button> -->
    <h3>Who's you preferred director?</h3>
      <!-- <button type="button" class="filter_btn" onclick="">Steven Spielberg</button>
      <button type="button" class="filter_btn" onclick="">Quentin Tarantino</button>
      <button type="button" class="filter_btn" onclick="">Christopher Nolan</button>
      <button type="button" class="filter_btn" onclick="">Denis Villeneuve</button>
      <button type="button" class="filter_btn" onclick="">Alfred Hitchcock</button>
      <button type="button" class="filter_btn" onclick="">David Fincher</button> -->
    <h3>Which's your preferred production company?</h3>
      <!-- <button type="button" class="filter_btn" onclick="">Charles Chaplin Productions</button>
      <button type="button" class="filter_btn" onclick="">New Line Cinema</button>
      <button type="button" class="filter_btn" onclick="">Paramount Pictures</button>
      <button type="button" class="filter_btn" onclick="">Warner Bros.</button>
      <button type="button" class="filter_btn" onclick="">Universal Pictures</button>
      <button type="button" class="filter_btn" onclick="">Marvel Studios</button><br><br>
      <button type="button" class="filter_btn" onclick="">Surprise Me!</button> -->
  </div>
  <div class="dotchart">
  <h4> How basic is your movie taste?</h4>
  


  <script>
    

    // earliest: 1921, latest: 2020

    // shortest: 68, longest: 229
    const runtimes = ["60-90", "90-120", "120-150", "150-180", "180-210", "210-240"]
    const companies = [
      "3leven",
      "AMLF",
      "Aamir Khan Productions",
      "Aamir Khan Productions",
      "Alfred J. Hitchcock Productions",
      "Alfred J. Hitchcock Productions",
      "American Zoetrope",
      "Amuse",
      "Barunson E&A",
      "Bavaria Film",
      "Bold Films",
      "Brandywine Productions",
      "Bryna Productions",
      "Carolco Pictures",
      "Castle Rock Entertainment",
      "Castle Rock Entertainment",
      "Cecchi Gori Pictures",
      "Charles Chaplin Productions",
      "Charles Chaplin Productions",
      "Charles Chaplin Productions",
      "Charles Chaplin Productions",
      "Columbia Pictures",
      "Columbia Pictures",
      "Cristaldifilm",
      "DENTSU Music And Entertainment",
      "DreamWorks",
      "DreamWorks",
      "Edward Small Productions",
      "Egg Films",
      "Fantasy Films",
      "FortyFour Studios",
      "Fox 2000 Pictures",
      "Fox STAR Studios",
      "Gaumont",
      "Horizon Pictures (II)",
      "Liberty Films (II)",
      "Lucasfilm",
      "Lucasfilm",
      "Lucasfilm",
      "Marvel Studios",
      "Marvel Studios",
      "Melampo Cinematografica",
      "Metro-Goldwyn-Mayer (MGM)",
      "Metro-Goldwyn-Mayer (MGM)",
      "Metro-Goldwyn-Mayer (MGM)",
      "Miramax",
      "Mooz Films",
      "Nero-Film AG",
      "New Line Cinema",
      "New Line Cinema",
      "New Line Cinema",
      "New Line Cinema",
      "Newmarket Capital Group",
      "O2 Filmes",
      "Orion-Nova Productions",
      "Paramount Pictures",
      "Paramount Pictures",
      "Paramount Pictures",
      "Paramount Pictures",
      "Paramount Pictures",
      "Paramount Pictures",
      "Paramount Pictures",
      "PolyGram Filmed Entertainment",
      "Produzioni De Sica (PDS)",
      "Produzioni Europee Associate (PEA)",
      "Produzioni Europee Associate (PEA)",
      "Quad Productions",
      "R.P. Productions",
      "RKO Radio Pictures",
      "Rafran Cinematografica",
      "Shamley Productions",
      "Shinchosha Company",
      "Sony Pictures Entertainment (SPE)",
      "Strong Heart/Demme Production",
      "The Ladd Company",
      "The Mirisch Corporation",
      "The Weinstein Company",
      "Toho Company",
      "Toho Company",
      "Tokuma Shoten",
      "Touchstone Pictures",
      "Universal Pictures",
      "Universal Pictures",
      "Universal Pictures",
      "Universum Film (UFA)",
      "Vinod Chopra Productions",
      "Walt Disney Pictures",
      "Walt Disney Pictures",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Warner Bros.",
      "Wiedemann & Berg Filmproduktion",
      "Zanuck/Brown Productions"
    ]
    const directors = [
        "Aamir Khan, Amole Gupte",
        "Akira Kurosawa",
        "Akira Kurosawa",
        "Alfred Hitchcock",
        "Alfred Hitchcock",
        "Alfred Hitchcock",
        "Alfred Hitchcock",
        "Alper Caglar",
        "Andrew Stanton",
        "Anthony Russo, Joe Russo",
        "Anthony Russo, Joe Russo",
        "Billy Wilder",
        "Billy Wilder",
        "Billy Wilder",
        "Billy Wilder",
        "Bob Persichetti, Peter Ramsey",
        "Bong Joon Ho",
        "Brian De Palma",
        "Bryan Singer",
        "Chan-wook Park",
        "Charles Chaplin",
        "Charles Chaplin",
        "Charles Chaplin",
        "Charles Chaplin",
        "Christopher Nolan",
        "Christopher Nolan",
        "Christopher Nolan",
        "Christopher Nolan",
        "Christopher Nolan",
        "Christopher Nolan",
        "Damien Chazelle",
        "David Fincher",
        "David Fincher",
        "David Lean",
        "Fernando Meirelles, Kátia Lund",
        "Florian Henckel von Donnersmarck",
        "Francis Ford Coppola",
        "Francis Ford Coppola",
        "Francis Ford Coppola",
        "Frank Capra",
        "Frank Darabont",
        "Frank Darabont",
        "Fritz Lang",
        "Fritz Lang",
        "George Lucas",
        "George Roy Hill",
        "Giuseppe Tornatore",
        "Hayao Miyazaki",
        "Hayao Miyazaki",
        "Irvin Kershner",
        "Isao Takahata",
        "James Cameron",
        "Jonathan Demme",
        "Lana Wachowski, Lilly Wachowski",
        "Lee Unkrich, Adrian Molina",
        "Luc Besson",
        "Makoto Shinkai",
        "Martin Scorsese",
        "Martin Scorsese",
        "Martin Scorsese",
        "Michael Curtiz",
        "Milos Forman",
        "Milos Forman",
        "Mukesh Chhabra",
        "Nadine Labaki",
        "Nitesh Tiwari",
        "Olivier Nakache, Éric Toledano",
        "Orson Welles",
        "Peter Jackson",
        "Peter Jackson",
        "Peter Jackson",
        "Quentin Tarantino",
        "Quentin Tarantino",
        "Rajkumar Hirani",
        "Richard Marquand",
        "Ridley Scott",
        "Ridley Scott",
        "Robert Zemeckis",
        "Robert Zemeckis",
        "Roberto Benigni",
        "Roger Allers, Rob Minkoff",
        "Roman Polanski",
        "Sergio Leone",
        "Sergio Leone",
        "Sergio Leone",
        "Sergio Leone",
        "Sidney Lumet",
        "Stanley Donen, Gene Kelly",
        "Stanley Kubrick",
        "Stanley Kubrick",
        "Stanley Kubrick",
        "Stanley Kubrick",
        "Stanley Kubrick",
        "Steven Spielberg",
        "Steven Spielberg",
        "Steven Spielberg",
        "Todd Phillips",
        "Tony Kaye",
        "Vittorio De Sica",
        "Wolfgang Petersen"
    ]


  
</script>
<h2> Movie Recommendations Go Here</h2>
<h3>Recommendation</h3>
<h3>Recommendation</h3>
<h3>Recommendation</h3>
</div>
</div>
</body>
</html>