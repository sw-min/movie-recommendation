<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    .dotchart {
      margin-left: 500px;
    }
    .svgclass {
      border-style: solid;
      border-color: black;
      padding: 5px;
    }
    .content {
      display: flex;
      flex-direction: row;
    }
  </style>
  <title>INFO 3300-Project 2</title>
</head>

<body>
  <h1>INFO 3300 - Project 2</h1>
  <h3>Members: Josette, Laura, Peter, Steve Min</h3>

  <div class="content">
  <div class="filter">
    <h2> Filter Questions Go Here</h2>
    <h3>Question</h3>
    <h3>Question</h3>
    <h3>Question</h3>
    <h3>Question</h3>
    <h3>Question</h3>
    <h3>Question</h3>
    <h3>Question</h3>
    <h3>Question</h3>
    <h3>Question</h3>
  </div>
  <div class="dotchart">
  <h4> How basic is your movie taste?</h4>
  <svg class = "svgclass" id="svg1" height="300" width="300"></svg> 


  <script>
    const svg = d3.select("#svg1");
    const width = svg.attr("width");
    const height = svg.attr("height");
    // const map = svg.append("g");
    const margin = {top: 10, right: 10, bottom: 10, left: 10};
    const chartWidth = width - margin.left - margin.right;
    const chartHeight = height - margin.top - margin.bottom;



  const projectData = async function () {
    console.log('in async')

  //Movie names on the top 100 are 'original_title', top 1000 are 'Series_Title', and RT are 'Name'
  const imdb_small = await d3.csv("imdb_100.csv");
  const imdb_large = await d3.csv("imdb_1000.csv");
  const rotten_tomatoes = await d3.csv("rotten_tomatoes.csv");

  console.log(imdb_small);

  
  

  const imdb_twenty = imdb_small.slice(0,20);
  console.log(imdb_twenty);
  const imdb_forty = imdb_small.slice(21,41);
  const imdb_sixty = imdb_small.slice(41,61);
  const imdb_eighty = imdb_small.slice(61,81);
  const imdb_hundred = imdb_small.slice(81,99);
  
  let inc_x_t = chartWidth;
  imdb_twenty.forEach( d => {
        d.x = inc_x_t;
        d.y = 10;
        inc_x_t= inc_x_t - 8;
      });

  let inc_x_f = chartWidth;
  imdb_forty.forEach( d => {
        d.x = inc_x_f;
        d.y = 20;
        inc_x_f = inc_x_f - 8;
      });
      
  let inc_x_s = chartWidth;
  imdb_sixty.forEach( d => {
        d.x = inc_x_s;
        d.y = 30;
        inc_x_s = inc_x_s - 8;
      }); 
  
  let inc_x_e = chartWidth;
  imdb_eighty.forEach( d => {
        d.x = inc_x_e;
        d.y = 40;
        inc_x_e = inc_x_e - 8;
      }); 
  
  let inc_x_h = chartWidth;
  imdb_hundred.forEach( d => {
        d.x = inc_x_h;
        d.y = 50;
        inc_x_h = inc_x_h - 8;
      }); 

  
  let circles = svg.selectAll("circle").data(imdb_small)
                            .join("circle")
                            .attr("r", 2)
                            .attr("cx", d => d.x) //want to evenly distribute circles on x axis
                            .attr("cy", d => d.y); //and evenly distribute in rows on y axis
                            // .attr("fill", //colors based on filter and y position)

  }

projectData();

</script>
<h2> Movie Recommendations Go Here</h2>
<h3>Recommendation</h3>
<h3>Recommendation</h3>
<h3>Recommendation</h3>
</div>
</div>
</body>
</html>